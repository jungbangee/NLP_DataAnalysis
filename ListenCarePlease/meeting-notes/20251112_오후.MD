# 📝 회의록

---

## 1. 회의 개요
- **회의 제목:** 이름 인식 및 화자 태깅 모델 개선 현황 공유 및 후속 과제 논의  
- **회의 일시:** 2025년 11월 12일 (수) 오후 회의 (약 60분)

---

## 2. 참석자 명단
- 김민서  
- 재영  
- 지훈  
- 홍기  
- 상준

---

## 3. 주요 안건
1. **NER 기반 이름 인식 모델 개선 (KcELECTRA, KLUE 데이터셋 활용)**  
2. **Whisper API vs 로컬 STT 모델 성능 비교**  
3. **화자 태깅 자동화 파이프라인 구현(MCP 구조 설계 포함)**  
4. **LMM 기반 다중 문맥 판단 멀티턴 알고리즘 테스트**  
5. **모델 학습 오류, 성능 편차, 후속 실험 계획 정리**

---

## 4. 회의 내용

### 🔹 이름 인식 모델 실험 보고
- 기존 **Gliner 모델**에서 **KcELECTRA-base 모델**로 교체 실험 진행.  
- 샘플 5개 모델 중 KcELECTRA가 **고유명사 인식률 및 문장 안정성**에서 가장 우수.  
- KLUE 데이터셋 기반 학습된 ELECTRA NER 모델 사용 시,  
  **이름 사전 자동 구축 및 JSON 구조화 성능 향상** 확인.  
- 외래어(예: “니모”)나 역할명(“상담원”)을 **사람 이름으로 오인식하는 문제** 발생.  

**문제점과 해결방안**
| 문제점 | 해결방안 |
|---------|-----------|
| 외래어·역할명 인물로 오인식 | 인명 데이터베이스(예: 사람 이름 사전)와 교차검증 |
| 일부 문장 이름 미포함 | “Name=null” 처리 → 후처리 시 보정 알고리즘 적용 |
| STT 품질이 낮은 경우 인식률 저하 | Whisper API 기반 전사로 대체, 문장 정제 후 재실험 |

---

### 🔹 STT 성능 비교 및 Whisper API 제안 
- Whisper **API vs 로컬 모델** 비교 결과,  
  - API 기반은 **이름 인식률·문장 정확도 모두 우수**.  
  - 로컬 모델은 긴 파일 처리 시 손실 및 깨짐 현상 존재.  
- Whisper API 사용 시 **타임스탬프 자동 기록 불가**,  
  따라서 **SRT 변환 → 타임스탬프 추출 → 텍스트 재결합** 절차 필요.  
- API 호출 시 병렬 처리 및 청크 단위 병합으로 효율성 개선 가능.  
- 비용은 소량 사용 기준 **크게 부담되지 않음**, 실험 지속 결정.  

**문제점과 해결방안**
| 문제점 | 해결방안 |
|---------|-----------|
| 긴 오디오 전사 시 깨짐 | 청크 단위 전사 후 병합 방식 사용 |
| 타임스탬프 누락 | SRT 포맷 변환 후 병합 알고리즘 적용 |
| 로컬 성능 저하 | Whisper API 병행 사용으로 품질 확보 |

---

### 🔹 화자 태깅 및 MCP 구조 설계 
- 화자명 등장 여부(`Name` 존재 여부)에 따라 체크(V) 표시 후 LMM에 전달.  
- **앞뒤 5문장 단위로 문맥을 전송하여 화자 추정** 수행.  
- LMM은 화자 발화 순서 및 대화 흐름을 기준으로  
  **확률 점수(스코어)**를 부여하여 누가 말했는지 판단.  
- **멀티턴 구조 도입:**  
  이전 발화자와 이후 발화자의 일치 여부에 따라 확률 가중치를 조정.  
- 미확인 화자(물음표 표시)는 확률 기반으로 자동 할당 후  
  사용자 확인(UI) 단계에서 검증 가능하도록 설계.  
- MCP는 **LMM 메시지 컨텍스트 정의 파트**로,  
  “입력 문장 구조 + 발화자 스코어링 방식”을 명세화함.  

**문제점과 해결방안**
| 문제점 | 해결방안 |
|---------|-----------|
| 이름이 없는 문장의 화자 추정 어려움 | 멀티턴 스코어링 구조로 보완 (문맥 추적) |
| 화자 불일치 시 정확도 저하 | 발화 순서 기반 스코어 가중치 조정 |
| 화자 누락 시 태깅 공백 발생 | 확률 기반 보완 + 사용자 검증단계 추가 |
| MCP 설계 복잡성 | LMM 프롬프트 구조 고정화, API 실험 반복 |

---

### 🔹 후속 논의 및 기타 사항
- 팀은 Whisper API를 **정식 채택**하고 로컬 모델은 보조로 유지하기로 결정.  
- 화자 태깅은 **LMM + 규칙 기반 하이브리드 구조**로 유지.  
- MCP 구조는 다음 버전에서 API 호출 단계로 구현 예정.  
- 향후 확장 아이디어:
  - **요약(Summarization) 기능**
  - **감정 분석(Sentiment Analysis)**
  - **화자별 발화 모아보기(Conversation Filter)**

---

## 5. 채택사항과 유보사항
- **채택사항**
  - Whisper API 정식 도입  
  - KcELECTRA 기반 이름 인식 모델 사용  
  - 화자 태깅에 멀티턴 문맥 스코어링 방식 적용  
  - MCP 설계 구조 LMM 프롬프트로 명세  

- **유보사항**
  - 외래어/역할명 처리 기준 재정립 필요  
  - 모델별 STT 결과 정량평가(WER, BLEU 등)  
  - 감정 분석 기능의 실제 구현 시기  

---

## 6. 향후 일정
| 날짜 | 내용 |
|------|------|
| **11월 13일 (목)** | Whisper API 전사 파이프라인 완성 |
| **11월 14일 (금)** | MCP 기반 화자 태깅 코드 통합 |
| **11월 15일 (토)** | 이름 사전 + 태깅 결과 검증 및 리포트 초안 작성 |
| **11월 16일 (일)** | UI 피드백 및 감정 분석 기능 논의 |

---
